<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Abby Wears – Luxury Fashion</title>
<style>
:root{
  --bg-gradient: linear-gradient(to bottom, #000000, #1a1a1a);
  --glass-bg: rgba(255,255,255,0.06);
  --glass-border: rgba(255,255,255,0.18);
  --gold: #d4af37;
  --muted: rgba(255,255,255,0.7);
  --radius: 16px;
  --shadow: rgba(0,0,0,0.5);
}
body{
margin:0;
font-family: 'Inter', sans-serif;
background: var(--bg-gradient);
color:white;
}

/* ---------------- HEADER ---------------- */
.topbar{
position: sticky;
top:0;
z-index: 50;
backdrop-filter: blur(12px);
background: rgba(0,0,0,0.5);
padding:16px 0 8px 0;
display:flex;
flex-direction:column;
align-items:center;
border-bottom:1px solid rgba(255,255,255,0.1);
}

.logo{
font-size: 28px;
font-weight: 700;
color: var(--gold);
margin-bottom:12px;
}

/* ---------------- CATEGORY SCROLLER ---------------- /
.category-grid{
display:flex;
overflow-x:auto;
gap:12px;
padding:0 16px;
scrollbar-width: none; / Firefox /
}
.category-grid::-webkit-scrollbar { display:none; } / Chrome/Safari */

.cat-btn{
flex: 0 0 auto;
padding:8px 16px;
border-radius: 50px;
background: rgba(255,255,255,0.1);
border:1px solid var(--glass-border);
color:white;
font-size:14px;
font-weight:600;
cursor:pointer;
transition:0.3s;
white-space: nowrap;
}
.cat-btn.active{
background: var(--gold);
color:black;
box-shadow: 0 4px 12px var(--shadow);
}

/* ---------------- PRODUCT GRID ---------------- */
.grid{
padding:16px;
display:grid;
grid-template-columns: repeat(2, 1fr);
gap:20px;
}
@media(min-width:768px){ .grid{ grid-template-columns: repeat(3, 1fr); } }
@media(min-width:1024px){ .grid{ grid-template-columns: repeat(4, 1fr); } }

.card{
background: var(--glass-bg);
border:1px solid var(--glass-border);
backdrop-filter: blur(12px);
border-radius: var(--radius);
overflow:hidden;
box-shadow: 0 6px 20px var(--shadow);
transition:0.3s;
}
.card:hover{
transform: translateY(-6px);
box-shadow: 0 12px 30px var(--shadow);
}

.card img{
width:100%;
height:220px;
object-fit: cover;
cursor:pointer;
transition:0.3s;
}
.card img:hover{ transform: scale(1.03); }

.card-body{
padding:12px;
}

.category-tag{
display:inline-block;
padding:4px 12px;
border-radius: 50px;
border:1px solid var(--gold);
font-size:12px;
margin-bottom:8px;
}

.title{
font-size:16px;
font-weight:600;
margin-bottom:4px;
}

.price{
color: var(--gold);
font-weight:700;
margin-bottom:8px;
}

.order-btn{
margin-top:4px;
width:100%;
padding:10px 0;
border:none;
border-radius: 50px;
background: var(--gold);
color:black;
font-weight:600;
cursor:pointer;
transition:0.3s;
}
.order-btn:hover{ opacity:0.9; transform: scale(1.02); }

/* ---------------- MODAL ---------------- */
.modal{
position: fixed;
top:0; left:0;
width:100%; height:100%;
background: rgba(0,0,0,0.85);
backdrop-filter: blur(12px);
display:none;
justify-content:center;
align-items:center;
padding:20px;
}
.modal-content{
background: var(--glass-bg);
border:1px solid var(--glass-border);
backdrop-filter: blur(14px);
padding:20px;
border-radius: var(--radius);
width:100%;
max-width:480px;
text-align:center;
}
.modal img{
width:100%;
border-radius: var(--radius);
margin-bottom:12px;
}
.close{
float:right;
font-size:22px;
cursor:pointer;
color:white;
}
</style>

</head>
<body>
  <div class="topbar">
  <div class="logo">Abby Wears</div>
  <div class="category-grid" id="categoryBar"></div>
</div>
<div class="grid" id="productGrid"></div>
<div class="modal" id="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <img id="modalImg">
    <h2 id="modalTitle"></h2>
    <p class="price" id="modalPrice"></p>
    <p id="modalDesc"></p>
    <button class="order-btn" id="modalOrderBtn">Order on WhatsApp</button>
  </div>
</div>

<script>
const backendURL = "https://abby-vybw.onrender.com";

const categories = [
  "All","Bubu","2 Piece","Jumpsuit","Jeans",
  "Beach Wears","Gowns","Joggers","Top","Luxury Wear"
];

const categoryBar = document.getElementById("categoryBar");
categoryBar.innerHTML = "";
categories.forEach(cat=>{
  const btn = document.createElement("button");
  btn.className = "cat-btn";
  btn.innerText = cat;
  if(cat==="All") btn.classList.add("active");
  btn.addEventListener("click", ()=> filterCategory(cat));
  categoryBar.appendChild(btn);
});

let products = [];

async function fetchProducts(){
  try{
    const res = await fetch(`${backendURL}/products`);
    const data = await res.json();
    products = data;
    renderProducts(products);
  }catch(err){
    console.error(err);
    alert("Failed to fetch products from backend");
  }
}

function renderProducts(list){
  const grid = document.getElementById("productGrid");
  grid.innerHTML = "";
  list.forEach(p=>{
    grid.innerHTML += `
      <div class="card">
        <img src="${p.image}" onclick='openModal(${JSON.stringify(p)})'>
        <div class="card-body">
          <span class="category-tag">${p.category}</span>
          <div class="title">${p.name}</div>
          <div class="price">₦${p.price}</div>
          <button class="order-btn" onclick='orderWhatsApp(${JSON.stringify(p)})'>Order on WhatsApp</button>
        </div>
      </div>
    `;
  });
}

function filterCategory(cat){
  document.querySelectorAll(".cat-btn").forEach(b=>b.classList.remove("active"));
  [...document.querySelectorAll(".cat-btn")].find(b=>b.innerText===cat).classList.add("active");
  if(cat==="All") return renderProducts(products);
  const filtered = products.filter(p=>p.category===cat);
  renderProducts(filtered);
}

function openModal(data){
  document.getElementById("modalImg").src = data.image;
  document.getElementById("modalTitle").innerText = data.name;
  document.getElementById("modalPrice").innerText = "₦" + data.price;
  document.getElementById("modalDesc").innerText = data.desc;
  document.getElementById("modalOrderBtn").onclick = ()=> orderWhatsApp(data);
  document.getElementById("modal").style.display="flex";
}

function closeModal(){
  document.getElementById("modal").style.display="none";
}

function orderWhatsApp(product){
  const message =
`Hello Abby Wears,
I would like to order this item:

Item: ${product.name}
Category: ${product.category}
Price: ₦${product.price}
Image: ${product.image}
Ref: ${product._id}`;

  const url = "https://wa.me/2349122054068?text=" + encodeURIComponent(message);
  window.open(url, "_blank");
}

fetchProducts();
</script>
</body>
</html>